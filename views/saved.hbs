<h2>Your Saved Trips</h2>

{{#if trips.length}}
  <div class="trip-list">
    {{#each trips}}
      <div class="trip-card">
        <div class="trip-header">
          <h3>
            {{getTripIcon trip_type}} {{trip_name}}
          </h3>
          <span class="trip-dates">
            {{formatDate start_date}} - {{formatDate end_date}}
          </span>
        </div>

        <p class="trip-destination">{{destination}}</p>

        <p><strong>Travelers:</strong> {{travelers}}</p>

        <div class="trip-details">
          <div class="trip-detail-row">
            <p><strong>Transport:</strong> {{transport}}</p>
            <p><strong>Transport Budget:</strong> ${{transport_budget}}</p>
          </div>
          <div class="trip-detail-row">
            <p><strong>Lodging:</strong> {{lodging}}</p>
            <p><strong>Lodging Budget:</strong> ${{lodging_budget}}</p>
          </div>
        </div>
        <p class="trip-total"><strong>Total Estimated Budget:</strong> ${{add transport_budget lodging_budget}}</p>
        <div class="savings-section">
          <p>
            <strong>Savings Goal:</strong> ${{savings_goal}} |
            <strong>Saved:</strong> ${{savings_saved}} |
            <strong>Progress:</strong> {{savings_percent}}%
          </p>

          <div class="progress-bar">
            <div class="progress-fill" style="width: {{savings_percent}}%;"></div>
          </div>
          
          <form method="POST" action="/savings/add" class="savings-form">
            <input type="hidden" name="trip_id" value="{{trip_name}}" />
            <label for="amount-{{@index}}">Add to Savings:</label>
            <input type="number" name="amount" id="amount-{{@index}}" step="0.01" required />
            <button class="cute-button" type="submit">ðŸ’¾ Save</button>
          </form>
        </div>
      </div>
    {{/each}}
  </div>
{{else}}
  <p>You have no saved trips yet. Start one from the homepage!</p>
{{/if}}
